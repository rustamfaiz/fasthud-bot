import asyncio
import logging
import os
from aiogram import Bot, Dispatcher, types
from aiogram.enums import ParseMode
from aiogram.types import InlineKeyboardMarkup, InlineKeyboardButton
from aiogram.filters import CommandStart
from dotenv import load_dotenv

# –ó–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏–∑ .env
load_dotenv()
TOKEN = os.getenv("BOT_TOKEN")

# –í–∫–ª—é—á–∞–µ–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
logging.basicConfig(level=logging.INFO)

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–æ—Ç–∞ –∏ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞
bot = Bot(token=TOKEN, parse_mode=ParseMode.HTML)
dp = Dispatcher()

# –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
text_welcome = (
    "üéØ <b>–ü–æ–∑–¥—Ä–∞–≤–ª—è—é.</b>\n"
    "–ù–æ–≤–∞—è –ø–æ–ø—ã—Ç–∫–∞. –ù–æ–≤—ã–π –∑–∞—Ö–æ–¥. –û—á–µ—Ä–µ–¥–Ω–æ–π —Å—Ç–∞—Ä—Ç –ø—Ä–æ—Ç–∏–≤ –∂–∏—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π –≤—Å—ë –µ—â—ë —Å —Ç–æ–±–æ–π.\n\n"
    "‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî\n\n"
    "–î–∞–≤–∞–π —á–µ—Å—Ç–Ω–æ ‚Äî —É —Ç–µ–±—è —É–∂–µ –±—ã–ª–∏ –¥–∏–µ—Ç—ã, –±—ã–ª –±–µ–≥, –±—ã–ª–∞ –Ω–∞–¥–µ–∂–¥–∞ —É–≤–∏–¥–µ—Ç—å –ø–ª–æ—Å–∫–∏–π –∂–∏–≤–æ—Ç ‚Äî —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω —Ä–∞–∑, –±–µ–∑ –≤–æ–∑–≤—Ä–∞—Ç–∞.\n"
    "–ù–æ –≤–º–µ—Å—Ç–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ ‚Äî —Å–Ω–æ–≤–∞ —Ü–∏—Ñ—Ä—ã —Ç—É–¥–∞-—Å—é–¥–∞. –ò —Å–Ω–æ–≤–∞ –Ω–∏—á–µ–≥–æ.\n\n"
    "‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî ‚Äî\n\n"
    "üëã <b>–ü—Ä–∏–≤–µ—Ç. –ú–µ–Ω—è –∑–æ–≤—É—Ç –†—É—Å—Ç–∞–º.</b>\n"
    "–í 2019 –≥–æ–¥—É —è —Å–∂—ë–≥ –¥–≤–∞–¥—Ü–∞—Ç—å –∫–∏–ª–æ–≥—Ä–∞–º–º–æ–≤ ‚Äî —á–µ—Ä–µ–∑ –≥–æ–ª–æ–¥, –±–µ–≥, –ø–æ–ª–Ω–æ–µ –æ—Ç—Ä–µ—á–µ–Ω–∏–µ –æ—Ç —Å–ª–∞–¥–∫–æ–≥–æ, –º—É—á–Ω–æ–≥–æ –∏ –∂–∏–∑–Ω–∏.\n\n"
    "–ù–∞—Å—Ç–æ–ª—å–∫–æ —É—à—ë–ª –≤ –ø—Ä–æ—Ü–µ—Å—Å, —á—Ç–æ —Ä–∞–∑–æ–±—Ä–∞–ª —Ñ–∏–∑–∏–æ–ª–æ–≥–∏—é, –Ω—É—Ç—Ä–∏—Ü–∏–æ–ª–æ–≥–∏—é –∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—É—é –º–µ—Ö–∞–Ω–∏–∫—É –¥–æ –∫–æ—Å—Ç–µ–π.\n"
    "–ü–æ—Ç–æ–º —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –Ω–∞–±–∏—Ä–∞–ª –∂–∏—Ä ‚Äî –∏ —Å–∂–∏–≥–∞–ª –µ–≥–æ —Å–Ω–æ–≤–∞. –ù–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑.\n"
    "–°–∏—Å—Ç–µ–º–Ω–æ. –ë–µ–∑ –≥–æ–ª–æ–¥–∞, –±–µ–∑ –±–µ–≥–∞ –∏ —Å–æ –≤–∫—É—Å–æ–º –∂–∏–∑–Ω–∏. –ó–∞ 4 –º–µ—Å—è—Ü–∞.\n\n"
    "–¢–∞–∫ –∏ –ø–æ—è–≤–∏–ª–∞—Å—å —ç—Ç–∞ –∫–Ω–∏–≥–∞.\n"
    "–ù–µ –∏–∑ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏—è. –ê –∏–∑ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω–æ–π –ø—Ä–∞–∫—Ç–∏–∫–∏ –≤ –±–æ—Ä—å–±–µ —Å —Ñ–∏—Ç–Ω–µ—Å-–º–∏—Ñ–∞–º–∏ –∏ –±–µ—Å–ø–æ–ª–µ–∑–Ω—ã–º–∏ —Ä–∏—Ç—É–∞–ª–∞–º–∏.\n\n"
    "üö´ –≠—Ç–æ –Ω–µ –ø—Ä–æ –º–æ—Ç–∏–≤–∞—Ü–∏—é. –≠—Ç–æ –ø—Ä–æ –º–µ—Ç–æ–¥.\n"
    "üî• –ö–∞–∫ –∑–∞ 4 –º–µ—Å—è—Ü–∞ —É–±—Ä–∞—Ç—å –∂–∏—Ä ‚Äî –∏ –Ω–µ –≤–µ—Ä–Ω—É—Ç—å –µ–≥–æ –±–æ–ª—å—à–µ –Ω–∏–∫–æ–≥–¥–∞.\n\n"
    "‚¨áÔ∏è –ñ–º–∏ –∫–Ω–æ–ø–∫—É ‚Äî –∏ –ø–æ–ª—É—á–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é."
)

# –ö–Ω–æ–ø–∫–∏
welcome_keyboard = InlineKeyboardMarkup(inline_keyboard=[
    [InlineKeyboardButton(text="üí∏ –ü–æ–ª—É—á–∏—Ç—å –∫–Ω–∏–≥—É", callback_data="get_book")],
    [InlineKeyboardButton(text="üéØ –ß—Ç–æ —Ç—ã –ø–æ–ª—É—á–∏—à—å –∏–∑ —ç—Ç–æ–π –∫–Ω–∏–≥–∏", callback_data="book_info")]
])

# –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥—ã /start
@dp.message(CommandStart())
async def cmd_start(message: types.Message):
    await message.answer(text_welcome, reply_markup=welcome_keyboard)

# –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
async def main():
    await dp.start_polling(bot)

if __name__ == "__main__":
    asyncio.run(main())
